<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">


    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <button (click)="execute()" class="btn btn-primary"><i class="bi bi-play"></i></button>
        </li>

      </ul>

    </div>
  </div>
</nav>
<div class="row">
  <div class="mb-3">
    <div class="form-floating mb-3">
      <input [(ngModel)]="cell.id" [ngModelOptions]="{standalone: true}" class="form-control" id="formID" type="text">
      <label class="form-label" for="formID">Name:</label>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-6">
    <h5>Inputs</h5>
    <div class="mb-3">

      <div *ngFor="let input of cell.metadata.inputs" class="input-group mb-3">

        <div class="form-floating mb-3 ">
           <textarea *ngIf="input.type=='textarea'" [(ngModel)]="input.value"
                     [name]="cell.id + input.key" class="form-control" style="width: 100%"></textarea>
          <select *ngIf="input.type=='dataframe'" [(ngModel)]="input.value" class="form-control">
            <option *ngFor="let df of priorDataFrames" ngValue="{{df}}" value="1">{{df}}</option>
          </select>
          <input *ngIf="input.type!='textarea' && input.type!= 'dataframe'"
                 [(ngModel)]="input.value" [name]="cell.id + input.key" [type]="input.type" class="form-control"
          />
          <label for="floatingInput">{{input.key}}</label>
        </div>


      </div>


    </div>
  </div>
  <div class="col-6">
    <h5>Outputs</h5>
    <div aria-label="Vertical button group" class="btn-group-vertical" role="group">
      <button (click)="view(result)" *ngFor="let result of cell.metadata.results"
              class="btn btn-primary" data-bs-target="#dataframeview" data-bs-toggle="modal"
              type="button">{{result.key}}</button>

    </div>

  </div>

</div>
<div aria-hidden="true" aria-labelledby="staticBackdropLabel" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false"
     id="dataframeview" tabindex="-1">

  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{selectedResult?.key}}</h5>
        <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
      </div>
      <div class="modal-body">
        <div *ngIf="selectedResult?.type==='dataframe'">
          <div [innerHTML]="viewValue" class="datatable"></div>
        </div>

        <div *ngIf="selectedResult?.type!=='dataframe'">{{viewValue}}</div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>

      </div>
    </div>
  </div>
</div>
